import w from"./chip8/index.js";import p from"./display.js";import y from"./info.js";import"./style/base.css.proxy.js";(async()=>{const r=document.getElementById("screen"),c=await fetch("./roms/demos/stars.ch8"),m=await c.blob(),f=new Uint8Array(await m.arrayBuffer()),e=new w(),i=new p(e,r),l=new y(e,document.getElementById("info")),d=1;let t=0;e.init(),e.loadGame(f),i.draw();let n=!1,a=!1;window.onkeydown=s=>{s.key==="c"&&(a=!0),s.key==="s"&&(n=!n),s.keyCode===32&&t++};const o=()=>{if(a)return;if(n&&t<d){requestAnimationFrame(o);return}t=0,l.update(),e.tick(),e.drawFlag&&i.draw(),requestAnimationFrame(o)};o()})();
